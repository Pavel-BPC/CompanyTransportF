<hr>


<h2 class="text-center">Добавление маршрута</h2>

<div class="container">


    <form [formGroup]="form">
        <div>

            <button (click)="add_rout()">Добавить точку</button>

            <div formArrayName="routs" *ngFor="let creds of form.controls.routs?.value; let i = index">
               
                <ng-container [formGroupName]="i">

                    <div class="form-group">
                        <label class="control-label" for="start_point">Начальная точка</label>
                        <!-- class="form-control" name="start_point" -->
                        <select formControlName="start_point" [(ngModel)]="start_point">
                            <option *ngFor="let point of points" [value]="point.id">
                                {{point.name_point}}
                            </option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="control-label" for="end_point">Конечная точка</label>
                        <!-- class="form-control" name="start_point" -->
                        <select formControlName="end_point" [(ngModel)]="end_point">
                            <option *ngFor="let point of points" [value]="point.id">
                                {{point.name_point}}
                            </option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="control-label" for="transport">Транспорт</label>
                        <!-- class="form-control" name="start_point" -->
                        <select formControlName="transport" [(ngModel)]="transport">
                            <option *ngFor="let transport of transports" [value]="transport.id">
                                {{transport.name_transport}}
                            </option>
                        </select>
                    </div>


                    <!-- <div class="form-group">
                        <label class="control-label" for="end_point">Конечная точка</label>
                        <select formControlName="end_point" [(ngModel)]="end_point"> >

                            <option *ngFor="let point of points" [value]="point.id">
                                {{point.name_point}}
                            </option>
                        </select>
                    </div> -->

                    <!-- <div class="form-group">
                        <label class="control-label" for="transport">Транспорт</label>
                        <select formControlName="transport"
                            [(ngModel)]="transport" >
                            <option *ngFor="let transport of transports" [value]="transport.id">
                                {{transport.name_transport}}
                            </option>
                        </select>
                    </div> -->

                    <!-- <label for="start_point">Начальная точка</label>
                    <input formControlName="start_point">

                    <label for="end_point">Конечная точка</label>
                    <input formControlName="end_point"> -->

                    <label for="distance">Расстояние</label>
                    <input type="text" formControlName="distance">




                    <!-- <input type="text" formControlName="transport"> -->
                </ng-container>
            </div>

        </div>
        <button (click)="submit(form)">Добавить маршрут</button>

    </form>

</div>